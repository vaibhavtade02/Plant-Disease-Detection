{% extends 'layout.html' %}

{% load static %}

{% block content %}

<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        /*** Header ***/
        .carousel-caption {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: rgba(15, 66, 41, .6);
            z-index: 1;
        }

        .carousel-control-prev,
        .carousel-control-next {
            width: 15%;
        }

        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            width: 3rem;
            height: 3rem;
            border-radius: 3rem;
            background-color: var(--primary);
            border: 10px solid var(--primary);
        }

        @media (max-width: 768px) {
            #header-carousel .carousel-item {
                position: relative;
                min-height: 450px;
            }

            #header-carousel .carousel-item img {
                position: absolute;
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
        }

        .page-header {
            background: linear-gradient(rgba(15, 66, 41, .6), rgba(15, 66, 41, .6)), url(../img/about.jpg) center center no-repeat;
            background-size: cover;
        }

        .page-header .breadcrumb-item+.breadcrumb-item::before {
            color: var(--light);
        }

        .page-header .breadcrumb-item,
        .page-header .breadcrumb-item a {
            font-size: 18px;
            color: var(--light);
        }

        /*** Top Feature ***/
        @media (min-width: 991.98px) {
            .top-feature {
                position: relative;
                margin-top: -80px;
                z-index: 1;
            }
        }


        /*** Facts & Quote ***/
        .facts,
        .quote {
            background: rgba(15, 66, 41, .6);
        }

        /*** Footer ***/
        .footer .btn.btn-link {
            display: block;
            margin-bottom: 5px;
            padding: 0;
            text-align: left;
            color: var(--light);
            font-weight: normal;
            text-transform: capitalize;
            transition: .3s;
        }

        .footer .btn.btn-link::before {
            position: relative;
            content: "\f105";
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            margin-right: 10px;
        }

        .footer .btn.btn-link:hover {
            color: var(--primary);
            letter-spacing: 1px;
            box-shadow: none;
        }

        .copyright {
            color: var(--light);
            background: #072A19;
        }

        .copyright a {
            color: #FFFFFF;
        }

        .copyright a:hover {
            color: var(--primary);
        }

        .btn {
            background-color: #348e38;
            border: 2px hsl(123, 63%, 16%);
        }
    </style>

    <!-- JavaScript to Hide Welcome & Show Prediction Results -->

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Get the necessary DOM elements
            const introSection = document.getElementById('intro-section');
            const diseaseDetectionSection = document.getElementById('disease-detection-section');
            const submitButton = document.querySelector('button[type="submit"]');

            // Initially, both the intro and disease detection sections are visible
            diseaseDetectionSection.style.display = 'block'; // Ensure the detection section is visible initially
            introSection.style.display = 'block'; // Ensure the intro section is visible initially

            // When the user clicks the "Upload and Predict" button
            submitButton.addEventListener('click', function (event) {
                event.preventDefault(); // Prevent form submission (to avoid page reload)

                // Hide intro section and keep disease detection section visible
                introSection.style.display = 'none';
            });
        });
    </script>




</head>


<!-- Carousel Start -->
<div class="container-fluid p-0 wow fadeIn">
    <div class="carousel-inner">
        <img class="w-100" src="{% static 'img/new_copy.jpg' %}" alt="Image">
        <div class="carousel-caption">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-10">
                        <!-- Main Card Start -->
                        <div class="container-xxl py-5">
                            <div class="container d-flex justify-content-center">
                                <div class="row g-5 justify-content-center">
                                    <!-- Main Card -->
                                    <div class="wow fadeIn" data-wow-delay="0.1s">
                                        <!-- Card Section -->
                                        <div class="card shadow border-0 p-4">
                                            <h1 class="text-center mb-4">Welcome to Agri Scan</h1>
                                            <p class="text-center mb-4">Upload an image, and our system will predict the
                                                disease with high accuracy.</p>

                                            <div class="disease-detection">
                                                <h4>Upload an Image for Disease Prediction</h4>
                                                <form method="POST" enctype="multipart/form-data">
                                                    {% csrf_token %}
                                                    <input type="file" name="image" required class="form-control mb-3">
                                                    <button type="submit" class="btn btn-primary py-3 px-4">Upload and
                                                        Predict</button>
                                                </form>

                                                {% if file_url %}
                                                <div class="row mt-4">
                                                    <!-- Image Section (left side) -->
                                                    <div class="col-md-6">
                                                        <h3>Uploaded Image</h3>
                                                        <img src="{{ file_url }}" alt="Uploaded Image"
                                                            class="img-fluid border border-success border-4">
                                                    </div>

                                                    <!-- Prediction Result Section (right side) -->
                                                    <div class="col-md-6 align-self-center">

                                                        <h3>Plant: {{ plant_name }}</h3>
                                                        <h3>Disease: {{ disease_name }}</h3>
                                                        <!-- <h3>Predicted Disease: <span style="color: red;">{{ model_prediction }}</span></h3> -->
                                                        <h4 class="mt-3">Disease Information:</h4>
                                                        <p>{{ disease_info }}</p>

                                                        <h4 class="mt-3">Solution:</h4>
                                                        <p>{{ disease_solution }}</p>

                                                    </div>
                                                </div>
                                                {% else %}
                                                <p>No image uploaded yet.</p>
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Main Card End -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Carousel End -->


<!-- Top Feature Start -->
<!-- <div class="container-fluid top-feature py-5 pt-lg-0">
    <div class="container py-5 pt-lg-0">
        <div class="row gx-0">
            <div class="col-lg-4 wow fadeIn" data-wow-delay="0.1s">
                <div class="bg-white shadow d-flex align-items-center h-100 px-5" style="min-height: 160px;">
                    <div class="d-flex">
                        <div class="flex-shrink-0 btn-lg-square rounded-circle bg-light">
                            <i class="fa fa-times text-primary"></i>
                        </div>
                        <div class="ps-3">
                            <h4>No Hidden Cost</h4>
                            <span>Clita erat ipsum lorem sit sed stet duo justo</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 wow fadeIn" data-wow-delay="0.3s">
                <div class="bg-white shadow d-flex align-items-center h-100 px-5" style="min-height: 160px;">
                    <div class="d-flex">
                        <div class="flex-shrink-0 btn-lg-square rounded-circle bg-light">
                            <i class="fa fa-users text-primary"></i>
                        </div>
                        <div class="ps-3">
                            <h4>Dedicated Team</h4>
                            <span>Clita erat ipsum lorem sit sed stet duo justo</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 wow fadeIn" data-wow-delay="0.5s">
                <div class="bg-white shadow d-flex align-items-center h-100 px-5" style="min-height: 160px;">
                    <div class="d-flex">
                        <div class="flex-shrink-0 btn-lg-square rounded-circle bg-light">
                            <i class="fa fa-phone text-primary"></i>
                        </div>
                        <div class="ps-3">
                            <h4>24/7 Available</h4>
                            <span>Clita erat ipsum lorem sit sed stet duo justo</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> -->
<!-- Top Feature End -->


<!-- About Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5 align-items-end">
            <div class="col-lg-3 col-md-5 wow fadeInUp d-none d-md-block" data-wow-delay="0.1s">
                <img class="img-fluid rounded" data-wow-delay="0.1s" src="{% static 'img/about-section.png' %}">
            </div>

            <div class="col-lg-6 col-md-7 wow fadeInUp" data-wow-delay="0.3s">
                <h1 style="color: #348e38;" class="display-1 mb-0">92%</h1>
                <p style="color: #348e38; font-size: 20px; font-weight: bold;" class="mb-4">Accurate & Reliable Disease
                    Detection</p>
                <h1 class="display-5 mb-4">Empowering Farmers with Smart Disease Detection</h1>
                <p class="mb-4">Our platform leverages machine learning to accurately identify plant diseases, helping
                    farmers and gardeners take timely action. Simply upload an image, and our system will provide
                    real-time analysis and treatment suggestions
                </p>
                <a class="btn btn-primary py-3 px-4" href="">Try Now</a>
            </div>
            <div class="col-lg-3 col-md-12 wow fadeInUp" data-wow-delay="0.5s">
                <div class="row g-5">
                    <div class="col-12 col-sm-6 col-lg-12">
                        <div class="border-start ps-4">
                            <i style="color: #348e38;" class="fa fa-award fa-3x  mb-3"></i>
                            <h4 class="mb-3">Features</h4>
                            <span>Get predictions with high accuracy</span>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6 col-lg-12">
                        <div class="border-start ps-4">
                            <i style="color: #348e38;" class="fa fa-users fa-3x  mb-3"></i>
                            <h4 class="mb-3">Preventive Care Insights</h4>
                            <span>Get disease analysis in seconds</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- About End -->


<!-- Facts Start -->
<div class="container-fluid facts py-5" data-parallax="scroll" data-image-src="{%  static 'img/carousel-1.jpg' %}">
    <div class="container py-5">
        <div class="row g-5">
            <div class="col-sm-6 col-lg-3 text-center wow fadeIn" data-wow-delay="0.1s">
                <h1 class="display-4 text-white" data-toggle="counter-up">10+</h1>
                <span class="fs-5 fw-semi-bold text-light">Supported Plant Types</span>
            </div>
            <div class="col-sm-6 col-lg-3 text-center wow fadeIn" data-wow-delay="0.3s">
                <h1 class="display-4 text-white" data-toggle="counter-up">25+</h1>
                <span class="fs-5 fw-semi-bold text-light">Supported Diseases</span>
            </div>
            <div class="col-sm-6 col-lg-3 text-center wow fadeIn" data-wow-delay="0.5s">
                <h1 class="display-4 text-white" data-toggle="counter-up">70,000+</h1>
                <span class="fs-5 fw-semi-bold text-light">Successful Analyses Images</span>
            </div>
            <div class="col-sm-6 col-lg-3 text-center wow fadeIn" data-wow-delay="0.7s">
                <h1 class="display-4 text-white" data-toggle="counter-up">92%</h1>
                <span class="fs-5 fw-semi-bold text-light">Detection Accuracy & Efficiency</span>
            </div>
        </div>
    </div>
</div>
<!-- Facts End -->

{% endblock %}